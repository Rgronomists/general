/*! IDRViewer - v1.3.0 | Copyright 2016 IDRsolutions */
var IDRViewer=function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k={LAYOUT_PRESENTATION:"presentation",LAYOUT_MAGAZINE:"magazine",LAYOUT_CONTINUOUS:"continuous",SELECT_SELECT:"select",SELECT_PAN:"pan",ZOOM_SPECIFIC:"specific",ZOOM_ACTUALSIZE:"actualsize",ZOOM_FITWIDTH:"fitwidth",ZOOM_FITHEIGHT:"fitheight",ZOOM_FITPAGE:"fitpage",ZOOM_AUTO:"auto"},l=1,m=1,n=0,o=0,p=k.ZOOM_AUTO,q=!0,r=[],s=[],t=10,u={},v="mobile",w=!1;k.setup=function(l){l||(l=IDRViewer.config),w=!0,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e="html"!==l.pageType,f=l.bounds,n=l.pagecount,z.setup(),b=M("idrviewer");var o=document.createElement("style");o.setAttribute("type","text/css"),document.head.appendChild(o),h=o.sheet,(m<1||m>n)&&(m=1);for(var p=0;p<n;p++)if(f[p][0]!=f[0][0]||f[p][1]!=f[0][1]){q=!1;break}switch(i){case IDRViewer.LAYOUT_CONTINUOUS:case IDRViewer.LAYOUT_PRESENTATION:break;case IDRViewer.LAYOUT_MAGAZINE:if(q)break;case v:if(d)break;default:i=IDRViewer.LAYOUT_CONTINUOUS}var u=[];if(i!=v){switch(u.push(k.LAYOUT_PRESENTATION,k.LAYOUT_CONTINUOUS),q&&u.push(k.LAYOUT_MAGAZINE),i){case IDRViewer.LAYOUT_CONTINUOUS:c=E;break;case IDRViewer.LAYOUT_MAGAZINE:c=D;break;case IDRViewer.LAYOUT_PRESENTATION:c=C}window.onresize=function(){K()};var y=document.createElement("div");for(y.style.position="relative",y.style.display="inline-block",y.style.verticalAlign="middle",y.style.minWidth="100%",y.style.lineHeight="normal",b.appendChild(y),g=document.createElement("div"),g.id="overlay",g.setAttribute("style","width: 100%; height: 100%; position: absolute; z-index: 10; visibility: hidden;"),y.appendChild(g),H.setup(),a=document.createElement("div"),a.id="contentContainer",a.style.overflow="hidden",a.style.transform="translateZ(0)",a.style.padding=t/2+"px",y.appendChild(a),p=1;p<=n;p++){var A=document.createElement("div");A.id="page"+p,A.setAttribute("style","width: "+f[p-1][0]+"px; height: "+f[p-1][1]+"px;"),A.className="page",a.appendChild(A),s[p]=A,r[p]=x(A,p)}}else u.push(v),c=F,a=document.createElement("div"),a.id="contentContainer",b.appendChild(a),b.style.lineHeight="normal";c.setup(m),N.addClass(b,"layout-"+c.toString()),c.toString()!==v&&(K(j),c.goToPage(m),z.setPage(m,!0));var B={selectMode:H.currentSelectMode,isMobile:d,layout:c.toString(),availableLayouts:u,isFirstPage:1===m,isLastPage:c.isLastPage(m)};for(var G in l)l.hasOwnProperty(G)&&(B[G]=l[G]);B.page=m,k.fire("ready",B)};var x=function(a,b){var c={};return c.isLoaded=function(){var a=z.getState(b);return a===y.LOADED||a===y.LOADING},c.unload=function(){z.getState(b)===y.LOADED&&(z.setState(b,y.HIDDEN),a.firstChild.style.display="none")},c.load=function(){var c=z.getState(b);if(c===y.HIDDEN&&(z.setState(b,y.LOADED),a.firstChild.style.display="block"),c===y.UNLOADED)if(z.setState(b,y.LOADING),e){var d=document.createElement("object");d.setAttribute("width",""+f[b-1][0]),d.setAttribute("height",""+f[b-1][1]),d.setAttribute("data",b+".svg"),d.setAttribute("type","image/svg+xml"),d.setAttribute("class","page-inner"),a.appendChild(d),z.setState(b,y.LOADED)}else{var g=function(){var c=document.createElement("iframe");c.setAttribute("class","page-inner"),c.setAttribute("src",b+".html"),c.setAttribute("style","width: "+f[b-1][0]+"px; height: "+f[b-1][1]+"px; position: relative; border: 0;"),c.onload=function(){z.setState(b,y.LOADED)},a.appendChild(c)};$.ajax({url:b+".html",success:function(c){try{var d=$("<div />").html(c).find("#p"+b).css({margin:"0",overflow:"hidden",position:"relative"}),e=function(){z.setState(b,y.LOADED),this.removeEventListener("load",e)};d.find("#pdf"+b)[0].addEventListener("load",e),$(a).append(d),N.addClass(a.children[0],"page-inner")}catch(f){g()}k.fire("pageload",{page:b})},error:g})}},c},y={LOADING:"loading",HIDDEN:"hidden",UNLOADED:"unloaded",LOADED:"loaded"},z=function(){var a,b,d,e={},f=500,g=20,h=2,i=0,j=0,k=0,l=[];e.setup=function(){d=n;for(var a=1;a<=n;a++)l[a]=y.UNLOADED},e.getState=function(a){return l[a]},e.setState=function(a,b){m(l[a],b),l[a]=b};var m=function(a,b){switch(a){case y.LOADING:i--;break;case y.LOADED:j--;break;case y.HIDDEN:k--;break;case y.UNLOADED:d--}switch(b){case y.LOADING:i++;break;case y.LOADED:j++;break;case y.HIDDEN:k++;break;case y.UNLOADED:d++}},o=function(){if(r[a].load(),i<h)for(var c=1;c<g/2&&(p(a-c)&&(r[a-c].isLoaded()||r[a-c].load()),i!==h)&&(p(a+c)&&(r[a+c].isLoaded()||r[a+c].load()),i!==h);c++);for(var d=1,e=n;j+i>g;)a-d>e-a?(r[d].isLoaded()&&r[d].unload(),d++):(r[e].isLoaded()&&r[e].unload(),e--);b=setTimeout(o,f)},p=function(a){return a>=1&&a<=n};return e.setPage=function(d,e){c.toString()!==v&&(a=d,e&&r[d].load(),clearTimeout(b),b=setTimeout(o,f))},e.stopLoading=function(){clearTimeout(b),b=setTimeout(o,f)},e}(),A={applyTransform:function(a,b){a.style.webkitTransform=b,a.style.mozTransform=b,a.style.msTransform=b,a.style.oTransform=b,a.style.transform=b},getTransform:function(a){return"-webkit-transform: "+a+";\n-moz-transform: "+a+";\n-ms-transform: "+a+";\n-o-transform: "+a+";\ntransform: "+a+";"},applyTransformOrigin:function(a,b){a.style.webkitTransformOrigin=b,a.style.mozTransformOrigin=b,a.style.msTransformOrigin=b,a.style.oTransformOrigin=b,a.style.transformOrigin=b},applyTransitionDuration:function(a,b){a.style.webkitTransitionDuration=b,a.style.mozTransitionDuration=b,a.style.msTransitionDuration=b,a.style.oTransitionDuration=b,a.style.transitionDuration=b}},B=function(a){m!=a&&(m=a,z.setPage(a),k.fire("pagechange",{page:m,pagecount:n,isFirstPage:1===m,isLastPage:c.isLastPage(a)}))},C=function(){var c={};c.setup=function(){},c.unload=function(){for(var b=1;b<=n;b++)s[b].style.marginLeft="",s[b].style.marginTop="",N.removeClass(s[b],"current","prev","next","before","after");a.style.width="",a.style.height=""},c.goToPage=function(a){B(a),q||K(),b.scrollTop=0,d(a),c.updateLayout()};var d=function(a){for(var b=1;b<=n;b++)N.removeClass(s[b],"current","prev","next","before","after"),b<a?N.addClass(s[b],"before"):b>a&&N.addClass(s[b],"after");N.addClass(s[a],"current"),a-1>=1&&N.addClass(s[a-1],"prev"),a+1<=n&&N.addClass(s[a+1],"next")};return c.updateLayout=function(){var c=f[m-1][0]*l,d=0,e=b.clientWidth-t;e>c?d=(e-c)/2:e=c;var g=f[m-1][1]*l,h=0,i=b.clientHeight-t;i>g?h=(i-g)/2:i=g,a.style.width=e+"px",a.style.height=i+"px";for(var j=1;j<=n;j++)s[j].style.marginLeft=d+"px",s[j].style.marginTop=h+"px"},c.isLastPage=function(a){return a===n},c.getZoomBounds=function(){return{width:f[m-1][0],height:f[m-1][1]}},c.getAutoZoom=function(a,b){return Math.min(a,b)},c.next=function(){k.goToPage(m+1)},c.prev=function(){k.goToPage(m-1)},c.toString=function(){return IDRViewer.LAYOUT_PRESENTATION},c}(),D=function(){function c(a){return a>1&&a<n}var d={};d.setup=function(){},d.unload=function(){for(var b=1;b<=n;b++)s[b].style.marginLeft="",s[b].style.marginTop="",N.removeClass(s[b],"current","prev","next","before","after");a.style.width="",a.style.height=""},d.goToPage=function(a){1!==a&&a%2!==0&&(a-=1),B(a),e(a),d.updateLayout()};var e=function(a){for(var b=1;b<=n;b++)N.removeClass(s[b],"current","prev","next","before","after");if(N.addClass(s[a],"current"),c(a)&&N.addClass(s[a+1],"current"),1==a&&(a=0),a+2<=n&&(N.addClass(s[a+2],"next"),a+3<=n&&N.addClass(s[a+3],"next")),a-1>0&&(N.addClass(s[a-1],"prev"),a-2>0&&N.addClass(s[a-2],"prev")),a+4<=n)for(b=a+4;b<=n;b++)N.addClass(s[b],"after");if(a-3>0)for(b=a-3;b>0;b--)N.addClass(s[b],"before")};return d.updateLayout=function(){var c=2*f[0][0]*l,d=0,e=b.clientWidth-t;e>c?d=(e-c)/2:e=c;var g=d+f[0][0]*l,h=f[0][1]*l,i=0,j=b.clientHeight-t;j>h?i=(j-h)/2:j=h,a.style.width=e+"px",a.style.height=j+"px",s[1].style.marginLeft=g+"px",s[1].style.marginTop=i+"px";for(var k=2;k<=n;k+=2)s[k].style.marginLeft=d+"px",s[k].style.marginTop=i+"px",k<n&&(s[k+1].style.marginLeft=g+"px",s[k+1].style.marginTop=i+"px")},d.isLastPage=function(a){return a+(1==a?1:2)>n},d.getZoomBounds=function(){return{width:2*f[0][0],height:f[0][1]}},d.getAutoZoom=function(a,b){return Math.min(a,b)},d.next=function(){k.goToPage(m+(1==m?1:2))},d.prev=function(){k.goToPage(m-1)},d.toString=function(){return IDRViewer.LAYOUT_MAGAZINE},d}(),E=function(){var a={},c=0,d=0;a.setup=function(){b.addEventListener("scroll",e);for(var a=0;a<n;a++)f[a][0]>c&&(c=f[a][0]),f[a][1]>d&&(d=f[a][1])},a.unload=function(){b.removeEventListener("scroll",e)};var e=function(){z.stopLoading(),g()},g=function(){var a,b;if(s[1].getBoundingClientRect().top>0)B(1);else for(a=1;a<=n;a++){var c=s[a].getBoundingClientRect();b=c.top;var d=c.bottom-c.top;if(b<=.25*d&&b>.5*-d){B(a);break}}};return a.goToPage=function(a){b.scrollTop=s[a].offsetTop-t/2},a.updateLayout=function(){},a.isLastPage=function(a){return a===n},a.getZoomBounds=function(){return{width:c,height:d}},a.getAutoZoom=function(c){return a.getZoomBounds().width>b.clientWidth-t?c:1},a.next=function(){k.goToPage(m+1)},a.prev=function(){k.goToPage(m-1)},a.toString=function(){return IDRViewer.LAYOUT_CONTINUOUS},a}(),F=function(){var c,d,g,h,i,j,o,p,r,s,t,u={},w=[],x=1,y=[],z=40,C=0,D=0,E=0,F=!1;u.next=function(){this.goToPage(r?m+2:m+1,!0)},u.prev=function(){this.goToPage(m-1,!0)};var G=function(){setTimeout(function(){u.handleResize()},300)};u.setup=function(d){window.onorientationchange||(window.onorientationchange=G),window.onresize||(window.onresize=G),b.style.overflow="hidden",c=/iPhone|iPad|iPod/i.test(navigator.userAgent),a.removeAttribute("style"),a.style.overflow="visible",a.style.padding="0",a.style.margin="0",a.style.webkitBackfaceVisibility="hidden",a.style.webkitPerspective="1000",F||(b.addEventListener("touchstart",da),b.addEventListener("touchmove",ea),b.addEventListener("touchend",fa),F=!0),r=window.innerWidth>window.innerHeight,k.fire("layoutchange",{layout:v,orientation:r?"landscape":"portrait"}),(!q||f[0][0]>f[0][1])&&(r=!1);for(var e=1;e<=n;e++)w[e]=!1,y[e]={};setTimeout(function(){s=window.innerWidth,t=window.innerHeight,ka(s,t),u.goToPage(d,!1)},0)},u.handleResize=function(){if(s!==window.innerWidth||t!==window.innerHeight)if(s=window.innerWidth,t=window.innerHeight,r==s>t){ka(s,t);for(var b=1;b<=n;b++)if(w[b]&&(!r||1===b||b%2===0)){var c=document.getElementById("page"+b);c.style.marginTop=y[b].topMargin+"px",A.applyTransform(c,"translate3d("+y[b].offset+"px, 0, 0) scale("+y[b].ratio+")")}u.goToPage(m,!1)}else a.innerHTML="",l=1,u.setup(m)};var H,I,J,K,L,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,aa=!1,ba=!1,ca=!1,da=function(a){if(aa=!1,i=!1,1!==a.touches.length||ca||1!==l||(I=a.touches[0].clientX,K=a.touches[0].clientX,L=a.touches[0].clientY,N=K,O=L,aa=!0,J=Date.now()),Y&&(Z=!0),1===a.touches.length&&l>1&&(j=a.touches[0].clientX,o=a.touches[0].clientY,p=!0,P=D,Q=C,R=P,S=Q,T=Date.now(),U=Date.now(),V||(V=setInterval(function(){P=R,Q=S,R=D,S=C,U=T,T=Date.now()},200))),2===a.touches.length&&!ba){i=!0,p=!1;var b=a.touches[0].clientX,c=a.touches[1].clientX,e=a.touches[0].clientY,f=a.touches[1].clientY;d=Math.sqrt(Math.pow(Math.abs(b-c),2)+Math.pow(Math.abs(e-f),2)),g=b-(b-c)/2,h=e-(e-f)/2}},ea=function(b){if(b.preventDefault(),b.stopPropagation(),1===b.touches.length&&aa&&1===l){ba=!0;var c=I-b.touches[0].clientX;if(0===c)return;I=b.touches[0].clientX,N=b.touches[0].clientX,O=b.touches[0].clientY,H-=c,A.applyTransform(a,"translate3d("+H+"px, 0, 0)")}else if(1===b.touches.length&&p){_=!0;var e=b.touches[0].clientX,f=b.touches[0].clientY,k=e-j,n=f-o;D+=k,C+=n,j=e,o=f,ha(),requestAnimationFrame(function(){ia(D,C,l,!0)},M("main"))}else if(2===b.touches.length){if(ca||!b.cancelable||!i||ba)return;if(E=(E+1)%2,1===E)return;var q=b.touches[0].clientX,r=b.touches[1].clientX,s=b.touches[0].clientY,t=b.touches[1].clientY,u=q-(q-r)/2,v=s-(s-t)/2;D=D+u-g,C=C+v-h,g=u,h=v;var w=Math.sqrt(Math.pow(Math.abs(q-r),2)+Math.pow(Math.abs(s-t),2)),z=w/d;l*z<x&&(z=1,l=x),l*z>4&&(z=1),l*=z;var B=u-y[m].leftMargin-D;D-=B*z-B;var F=v-y[m].topMargin-C;C-=F*z-F,ha(),requestAnimationFrame(function(){ia(D,C,l,!0)},M("main")),d=w}},fa=function(a){var b,c;if(0===a.touches.length){if(ba){ba=!1;var d=!1;if(Date.now()-J<300&&(b=K-N,c=L-O,Math.abs(b)>100&&Math.abs(b)>.25*Math.abs(c)&&(d=!0,b>0?u.next():u.prev())),!d){var e=-window.innerWidth*(m-1);r&&(e=-window.innerWidth*Math.floor(m/2)),H>e+window.innerWidth/2?u.prev():H<e-window.innerWidth/2?u.next():u.goToPage(m,!0)}}if(clearInterval(V),V=null,_){_=!1;var f=Date.now()-U;b=P-D,c=Q-C,W=b/(f/16),X=c/(f/16),Math.abs(W)<.5&&(W=0),Math.abs(X)<.5&&(X=0),0===W&&0===X||window.requestAnimationFrame(ga,M("main"))}}},ga=function(){Y=!0,!Z&&(W<-.5||W>.5||X<-.5||X>.5)?(D-=W,C-=X,W=.95*W,X=.95*X,ha(),ia(D,C,l,!0),window.requestAnimationFrame(ga,M("main"))):(Y=!1,Z=!1)},ha=function(){D>0&&(D=0,W=0),C>0&&(C=0,X=0);var a=f[m-1][0]*y[m].ratio;r&&(a*=2);var b=a*l;D<a-b&&(D=a-b,W=0);var c=f[m-1][1]*y[m].ratio,d=c*l;C<c-d&&(C=c-d,X=0)},ia=function(a,b,c,d){var e=function(a){return Math.round(2*a)/2};a=e(a),b=e(b);var f;f=d?"translate3d("+(a+y[m].offset)+"px, "+b+"px, 0) scale("+c*y[m].ratio+")":"translateX("+(a+y[m].offset)+"px) translateY("+b+"px) scale("+c*y[m].ratio+")";var g=M("page"+m);A.applyTransform(g,f)},ja=function(b){if(!w[b]){var c=document.createElement("div");c.setAttribute("id","page"+b),r&&1!=b&&(b<n||n%2===1)?c.style.width=2*f[b-1][0]+"px":c.style.width=f[b-1][0]+"px",c.style.height=f[b-1][1]+"px",A.applyTransform(c,"translate3d("+y[b].offset+"px, 0, 0) scale("+y[b].ratio+")"),A.applyTransformOrigin(c,"top left"),c.style.marginTop=y[b].topMargin+"px",c.style.position="absolute",a.appendChild(c)}if(!w[b])if(e){w[b]=!0;var d=document.createElement("div");d.setAttribute("style","position: absolute"),M("page"+b).appendChild(d),$(d).load(b+".svg")}else $.ajax({url:b+".html",success:function(a){if(!w[b]){w[b]=!0;var c=$("<div />").html(a).find("#p"+b).css("position","absolute");$("#page"+b).append(c)}}});if(r&&1!=b&&!w[b+1]&&b!=n)if(e){w[b+1]=!0;var g=document.createElement("div");g.setAttribute("style","position: absolute; left: "+f[b-1][0]+"px"),M("page"+b).appendChild(g),$(g).load(b+1+".svg")}else $.ajax({url:b+1+".html",success:function(a){if(!w[b+1]){w[b+1]=!0;var c=$("<div />").html(a).find("#p"+(b+1)).css("position","absolute");(b<n||n%2===1)&&c.css("left",f[b-1][0]),$("#page"+b).append(c)}}})},ka=function(a,b){for(var c=1;c<=n;c++){var d=(a-20)/f[c-1][0];r&&1!=c&&(c<n||n%2===1)&&(d*=2);var e=(b-z-20)/f[c-1][1];if(d<e)y[c].ratio=d,y[c].leftMargin=10;else{y[c].ratio=e;var g=f[c-1][0]*y[c].ratio;r&&1!=c&&(c<n||n%2===1)&&(g*=2),y[c].leftMargin=(a-g)/2}y[c].topMargin=(b-z-f[c-1][1]*y[c].ratio)/2,r&&1!=c?y[c].offset=a*Math.floor(c/2)+y[c].leftMargin:y[c].offset=a*(c-1)+y[c].leftMargin}},la=function(a){r&&1===a&&(a=0);var b=a-1,c=a+1;r&&(b-=1,c+=1,2===a&&(b=1)),b>=1&&!w[b]&&ja(b),c<=n&&!w[c]&&ja(c)};return u.goToPage=function(b,c){if(l>x)return l=x,void requestAnimationFrame(function(){ia(0,0,l,!0),u.goToPage(b,c)},M("main"));b<1&&(b=1),b>n&&(b=n),r&&1!==b&&b%2===1&&(b-=1),b!==m&&(ca=!0),w[b]||ja(b),H=r?-(window.innerWidth*Math.floor(b/2)):-(window.innerWidth*(b-1)),c&&A.applyTransitionDuration(a,"200ms"),A.applyTransform(a,"translate3d("+H+"px, 0, 0)"),r&&1!==b&&b%2===1&&(b-=1),B(b);var d=function(){var c;if(ca=!1,la(b),A.applyTransitionDuration(a,""),a.removeEventListener("transitionend",d,!1),a.removeEventListener("webkitTransitionEnd",d,!1),r)for(var e=2;e<=n;e+=2)w[e]&&(e<m-2||e>m+2)&&(w[e]=!1,c=M("page"+e),c.parentNode.removeChild(c),e<n&&(w[e+1]=!1));else for(var f=1;f<=n;f++)w[f]&&(f<m-1||f>m+1)&&(w[f]=!1,c=M("page"+f),c.parentNode.removeChild(c))};c?(a.addEventListener("transitionend",d,!1),a.addEventListener("webkitTransitionEnd",d,!1)):d()},u.isLastPage=function(a){return r?a+2>n:a===n},u.toString=function(){return v},u}(),G=function(a){try{a.getSelection?a.getSelection().empty?a.getSelection().empty():a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges():a.document.selection&&a.document.selection.empty()}catch(b){}},H=function(){var a,c,d,e={},f={},h=!1;e.setup=function(){switch(d){case IDRViewer.SELECT_PAN:case IDRViewer.SELECT_SELECT:break;default:d=IDRViewer.SELECT_SELECT}this.currentSelectMode=d,this.currentSelectMode==k.SELECT_SELECT?e.enableTextSelection():e.enablePanning()};var i=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,j="undefined"!=typeof InstallTrigger,l=!!window.chrome&&!i;return f.Default="",j?(f.Grab="-moz-grab",f.Grabbing="-moz-grabbing"):l?(f.Grab="-webkit-grab",f.Grabbing="-webkit-grabbing"):(f.Grab="all-scroll",f.Grabbing="all-scroll"),e.enableTextSelection=function(){this.currentSelectMode=k.SELECT_SELECT,g.style.cursor=f.Default;var a=function(){};g.onmousedown=a,document.onmouseup=a,g.onmousemove=a,g.style.visibility="hidden"},e.enablePanning=function(){this.currentSelectMode=k.SELECT_PAN,G(window),g.style.visibility="visible",g.style.cursor=f.Grab,g.onmousedown=function(b){return b=b||window.event,g.style.cursor=f.Grabbing,a=b.clientX,c=b.clientY,h=!0,!1},document.onmouseup=function(){g.style.cursor=f.Grab,h=!1},g.onmousemove=function(d){if(h)return d=d||window.event,b.scrollLeft=b.scrollLeft+a-d.clientX,b.scrollTop=b.scrollTop+c-d.clientY,a=d.clientX,c=d.clientY,!1}},e.setDefaultMode=function(a){d=a},e}();k.setSelectMode=function(a){if(w){if(d)return;a==k.SELECT_SELECT?H.enableTextSelection():H.enablePanning(),k.fire("selectchange",{type:a})}else H.setDefaultMode(a)};var I,J=function(a,b,c,d,e){var f;return f=e?"translate3d("+b+"px, "+c+"px, 0) scale("+d+")":"translateX("+b+"px) translateY("+c+"px) scale("+d+")",A.getTransform(f)},K=function(a){if(c.toString()!==v){z.stopLoading();var d=l;l=L(a);var e=!1,g=!1;l>=4?(l=4,g=!0):l<=.25&&(l=.25,e=!0);var i=l/d,j=b.scrollTop;c.updateLayout();for(var q=1;q<=n;q++)q!==m&&r[q].unload();I&&h.deleteRule(I);var t=J(null,0,0,l,!1);I=h.insertRule(".page-inner { \n"+t+"\n}",h.cssRules.length);for(var u=0;u<n;u++)s[u+1].style.width=f[u][0]*l+"px",s[u+1].style.height=f[u][1]*l+"px";b.scrollTop=j*i,o++,o%2===1&&K(),k.fire("zoomchange",{zoomType:p,zoomValue:l,isMinZoom:e,isMaxZoom:g})}};k.zoomIn=function(){K(1.2*l)},k.zoomOut=function(){K(l/1.2)},k.setZoom=function(a){w?K(a):j=a};var L=function(a){var d=c.getZoomBounds(),e=(b.clientWidth-t)/d.width,f=(b.clientHeight-t)/d.height,g=parseFloat(a);switch(isNaN(g)||(l=g,a=k.ZOOM_SPECIFIC),a||(a=p),a){case k.ZOOM_AUTO:l=c.getAutoZoom(e,f);break;case k.ZOOM_FITWIDTH:l=e;break;case k.ZOOM_FITHEIGHT:l=f;break;case k.ZOOM_FITPAGE:l=Math.min(e,f);break;case k.ZOOM_ACTUALSIZE:l=1}return p=a,l};k.goToPage=function(a){w?a>=1&&a<=n&&c.goToPage(a):m=a},k.next=function(){c.next()},k.prev=function(){c.prev()},k.setLayout=function(a){w?(c.unload(),N.removeClass(b,"layout-"+c.toString()),a==k.LAYOUT_PRESENTATION?c=C:a==k.LAYOUT_MAGAZINE?c=D:a==k.LAYOUT_CONTINUOUS&&(c=E),c.setup(m),N.addClass(b,"layout-"+c.toString()),K(IDRViewer.ZOOM_AUTO),c.goToPage(m),k.fire("layoutchange",{layout:a})):i=a},k.updateLayout=function(){K()};var M=function(a){return document.getElementById(a)};k.on=function(a,b){u[a]||(u[a]=[]),u[a].indexOf(b)===-1&&u[a].push(b)},k.off=function(a,b){if(u[a]){var c=u[a].indexOf(b);c!==-1&&u[a].splice(c,1)}},k.fire=function(a,b){u[a]&&u[a].forEach(function(a){a(b)})};var N=function(){return{addClass:function(a,b){var c=0!==a.className.length?a.className.split(" "):[],d=c.indexOf(b);d===-1&&(c.push(b),a.className=c.join(" "))},removeClass:function(){for(var a=arguments[0],b=0!==a.className.length?a.className.split(" "):[],c=1;c<arguments.length;c++){var d=b.indexOf(arguments[c]);d!==-1&&b.splice(d,1)}a.className=b.join(" ")}}}();return k}();